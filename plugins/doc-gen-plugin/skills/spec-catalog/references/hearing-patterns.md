# ヒアリングパターン - 仕様書カタログ

テンプレートIDごとのヒアリングフロー。バッチ形式で1〜4問ずつ質問する。

---

## A1: AI PRD

### バッチ 1: 基本情報
- AI/MLプロダクト名は？
- どんな課題を解決する？
- 対象ユーザーは？
- モデルの種類は？（分類・生成・推薦・検索等）

### バッチ 2: モデル要件
- 入力データと出力データの形式は？
- 精度・レイテンシの目標値は？
- 学習データのソースと量は？
- Human-in-the-Loop は必要か？

### バッチ 3: 安全性・倫理
- バイアス対策やガードレールの要件は？
- 個人情報の取り扱いは？
- フォールバック（モデル障害時）の動作は？

---

## A2: SRS

### バッチ 1: 基本情報
- ソフトウェア名と目的は？
- 対象ユーザーと利用環境は？
- スコープ（対象範囲/対象外）は？

### バッチ 2: 機能要件
- 主要な機能一覧は？
- 各機能の入力・処理・出力は？
- 外部システムとのインターフェースは？

### バッチ 3: 非機能要件
- パフォーマンス要件は？（レスポンスタイム、スループット）
- セキュリティ要件は？
- 可用性・信頼性の要件は？
- 制約条件は？（技術スタック、規格、法規制）

### バッチ 4: 検証
- 各要件の検証方法は？（テスト、レビュー、デモ）
- 受け入れ基準は？

---

## A3: ユーザーストーリーマップ

### バッチ 1: 基本情報
- 機能/プロダクト名は？
- 主要なユーザーペルソナは？
- ユーザーの主要なゴールは？

### バッチ 2: ストーリー
- 主要なユーザーストーリーは？（「〜として、〜したい、〜のために」）
- 各ストーリーの優先度は？
- ストーリーのグルーピング（エピック）は？

### バッチ 3: 受入基準
- 各ストーリーの受入基準は？（GIVEN/WHEN/THEN）
- エッジケースやエラーケースは？

---

## A4: プロダクトブリーフ

### バッチ 1（1回で完了）
- プロダクト/機能名は？
- 解決する問題は？（1〜2文）
- 提案するソリューションは？（1〜2文）
- 成功指標は？（1〜2個）

---

## B1: RFC

### バッチ 1: 背景
- RFC のタイトルは？
- 解決したい問題は？
- 現状のアプローチとその限界は？

### バッチ 2: 提案
- 提案するソリューションは？
- 検討した代替案は？
- 各案のトレードオフは？

### バッチ 3: 影響
- 影響範囲は？（チーム、コンポーネント、ユーザー）
- マイグレーションや互換性の考慮は？
- セキュリティへの影響は？

---

## B2: テクニカルデザインドキュメント

### バッチ 1: 基本情報
- 設計対象の機能/システム名は？
- 解決する技術的課題は？
- 技術スタックの制約は？

### バッチ 2: 設計内容
- コンポーネント構成は？
- データモデル（主要なエンティティとリレーション）は？
- 主要なAPIやインターフェースは？

### バッチ 3: 品質・運用
- パフォーマンス要件は？
- エラーハンドリング戦略は？
- 監視・ログ要件は？
- セキュリティ考慮事項は？

---

## B3: Arc42

### バッチ 1: 基本情報
- システム名と主要な品質目標は？
- 主要なステークホルダーは？
- 組織的・技術的な制約は？

### バッチ 2: コンテキストとソリューション
- 外部システムやユーザーとのインターフェースは？
- 選択したソリューション戦略は？
- 主要なビルディングブロック（コンポーネント）は？

### バッチ 3: ランタイムとデプロイ
- 主要なランタイムシナリオ（処理フロー）は？
- デプロイ環境とインフラは？
- 横断的関心事（セキュリティ、ログ、エラー処理等）は？

---

## B4: SDD

### バッチ 1: 基本情報
- 設計対象のソフトウェア名は？
- 参照する要件ドキュメントは？
- 設計の主要な関心事（ビューポイント）は？

### バッチ 2: 設計ビュー
- 論理ビュー（モジュール構成）は？
- プロセスビュー（並行性、スレッド）は？
- 物理ビュー（デプロイ先、ノード）は？

### バッチ 3: 根拠
- 主要な設計判断とその理由は？
- 既知の制限事項は？

---

## C1: AI実装仕様書（フェーズ型）

### バッチ 1: 基本情報
- 実装する機能/プロジェクト名は？
- 最終的なゴール（完成状態）は？
- 技術スタック・フレームワークは？
- 変更禁止の既存コード/アーキテクチャは？

### バッチ 2: フェーズ設計
- 実装を何フェーズに分けるか？
- 各フェーズの成果物は？
- フェーズ間の依存関係は？

### バッチ 3: 受入基準
- 各フェーズの完了基準は？（テスト可能な形で）
- エッジケースやエラーケースは？
- パフォーマンス要件は？

---

## C2: クイックスペック

### バッチ 1（1回で完了）
- 何を変更する？（バグ修正/機能追加/リファクタ）
- 期待する動作は？
- 影響範囲は？
- 完了基準は？

---

## C3: 実装計画

### バッチ 1: 基本情報
- 実装対象の機能/プロジェクト名は？
- 参照する仕様書はある？（パスがあれば）
- 技術スタック・バージョンは？

### バッチ 2: 計画内容
- 主要な実装フェーズは？
- 各フェーズで作成するアーティファクトは？
- テスト戦略は？
- パフォーマンス目標は？

---

## C4: タスクリスト

### バッチ 1: 基本情報
- 参照する仕様書/実装計画はある？（パスがあれば）
- タスクの粒度は？（大まか/細かい）
- 並列実行可能なタスクを明示する必要はあるか？

---

## D1: テスト計画

### バッチ 1: 基本情報
- テスト対象の機能/システムは？
- テストのスコープは？
- テスト環境は？

### バッチ 2: 戦略
- テストレベルは？（単体/結合/E2E/性能）
- テスト自動化の方針は？
- テストデータの準備方法は？

### バッチ 3: 基準
- 品質基準（カバレッジ目標等）は？
- テスト完了基準は？
- リスクの高い領域は？

---

## D2: マイグレーション計画

### バッチ 1: 基本情報
- 何を移行する？（DB/システム/インフラ/データ）
- 移行元と移行先は？
- ダウンタイムの許容は？

### バッチ 2: 計画
- 移行ステップは？
- データ検証方法は？
- ロールバック手順は？

### バッチ 3: リスク
- 既知のリスクは？
- 依存するチーム/システムは？

---

## D3: デプロイメント計画

### バッチ 1: 基本情報
- デプロイ対象のサービス/アプリは？
- 対象環境は？（ステージング/本番）
- デプロイ方式は？（ローリング/Blue-Green/カナリア）

### バッチ 2: 手順
- デプロイ前の準備事項は？
- デプロイ手順は？
- デプロイ後の確認項目は？
- ロールバック手順は？

---

## D4: ランブック

### バッチ 1: 基本情報
- 対象のサービス/システムは？
- どんな運用手順を記録する？（アラート対応/障害復旧/定期作業）

### バッチ 2: 手順詳細
- トリガー条件は？（アラート名、Cron等）
- 実行手順（コマンド、操作）は？
- 確認方法は？
- エスカレーション先は？

---

## D5: インシデント・ポストモーテム

### バッチ 1: 基本情報
- インシデントの概要は？
- 発生日時と検知方法は？
- 影響範囲は？（ユーザー数、機能）

### バッチ 2: 分析
- タイムライン（検知→対応→復旧）は？
- 根本原因は？
- なぜ防げなかったか？

### バッチ 3: 対策
- 短期的な対策は？
- 長期的な対策は？
- 再発防止のアクションアイテムは？

---

## D6: SLO/エラーバジェット定義

### バッチ 1: 基本情報
- 対象サービス名は？
- 主要なユーザージャーニーは？
- 現在の信頼性の状況は？

### バッチ 2: SLI/SLO
- SLI（Service Level Indicator）は？（可用性/レイテンシ/エラー率等）
- 各SLIの目標値（SLO）は？
- 計測方法は？

### バッチ 3: エラーバジェット
- エラーバジェットの計算期間は？（28日/30日/四半期）
- バジェット消費時のポリシーは？
- アラートのバーンレート閾値は？

---

## E1: プロジェクトコンテキスト（CLAUDE.md）

### バッチ 1: 基本情報
- プロジェクト名と目的は？
- 技術スタック（言語、フレームワーク、DB等）は？
- プロジェクトのディレクトリ構造は？

### バッチ 2: 開発ルール
- ビルド/テスト/リントのコマンドは？
- コーディング規約や命名規則は？
- Git ワークフロー（ブランチ戦略、コミットメッセージ）は？

### バッチ 3: 注意事項
- プロジェクト固有の注意点（ゴッチャ）は？
- 変更禁止の領域は？
- 外部サービスやAPIキーの取り扱いは？

---

## E2: プロジェクト憲章

### バッチ 1: 基本情報
- プロジェクト名は？
- プロジェクトのミッション/ビジョンは？

### バッチ 2: 原則
- 技術的な原則は？（例: シンプルさ優先、型安全、テスト必須）
- 品質基準は？（カバレッジ、レビュー必須等）
- 変更禁止事項は？
- 依存関係の方針は？（新規ライブラリ追加のルール等）
